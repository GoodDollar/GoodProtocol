import fetch from "cross-fetch";
import fs from "fs";
import { chunk } from "lodash";
import { bulkIsWhitelisted } from "./utils";
const data = [
  "0xe85f7f6f2c437ceffa86e1122a2f8deae3fa859e",
  "0x2b8d852e4d3e9621d23af428f1fb3057fe82e222",
  "0x10431b7462aee7385e028e2ed4731b08cba407e9",
  "0x91f93a1edbd8e7e74026c2c1027138b60a9f2c40",
  "0xa3160c2e697aaa4f487b8158bb551b0f4fd6d06d",
  "ebb7ceee4c6170201db0f5ee7da85d70044dc664",
  "0xedafee59115e0a54558357f5bb20b7fc62b2753f",
  "0xe9f181574081a7357709ff2f0495ffcf83c9e232",
  "0xfde64e4a927423cea4c04d34f3494cbd5e5da1ba",
  "0x50a0b9286c5fe0a1b61863d1d4e927dafb938529",
  "0xfcc0dc390ff57e69711ff2d122b02d319328523a",
  "0x6467be0ad34fdcc26f5c629366686935eccf2136",
  "0xa147b251d4a8c2896e1a2ca8c446cb465f2ee56f",
  "0xc4fe2b956a74ac31788ff99f02c510c944488eaf",
  "7de78cc53d5eb1c23705f5297af7183a9624daae",
  "0x87378ae647f665b9ec75ac3eaee3e527b1cb8942",
  "0x51b6ff9744ba1b3ae29c3990fdf38f49e5e46583",
  "cfdf45446a7b3a9382284252ff313685b567ffda",
  "0x3d07fafcc5088d7205b3dac0a8a88b4c3328cfde",
  "0x0fc07f42c0c0f55a56da0c68b629bff8b2a877b3",
  "0x43411523fe9e12f6bc23900e1af6afb8b3ed0fef",
  "0xef01e201a3f5868d6f365cf0c28a8615d9a150e6",
  "0x4b50f4ab0386735aa9095d776769501a81bb1bb6",
  "a43c22e9024bf715af3d825d1f1521a720e0b89b",
  "0x23585149c181412c1d061602234747487aaa545b",
  "0xe778cf45fd627c8a457cc32e152b99fea584de36",
  "96425db17883a64230a84e342f1763b98a2806f0",
  "0xe86efa5d28d48cf5fad39519bf0daee9db33f825",
  "0x4a376957eb2c501c2e6b0aa2a309ab7c2c91f89b",
  "d00d8c3941c1ad937b5afb8f1a8b07725b5710eb",
  "0x6d83e87a27ac0e058df015949b965f123e1917ca",
  "0x6ecab9f9f7743f0322485c298afdbd909ba20f1d",
  "b99651c3778216bf019eb441fb5b22aa900b5068",
  "0xf208ab19a1b98553b1c64c9102e97860ab85ed03",
  "0x5c43e67a7c754232af4f07da5e9f6824a7ec499d",
  "0x6c76991e387d0c71f0c37f30c704810e7bd58051",
  "0x06b8e225cc0aff348966132ffad95c3d8a8fa2ba",
  "0xbdebf8e3562c94fb9b6635ad670f55d0b4f5894c",
  "e05eadff542ddb17f692359bb1ea5a4aa10e0823",
  "0xb3996bd5b8234b4e18064eadc24351868fb3856a",
  "0x21077983e3ffcd91ab857ee81caf9e5e80ee711d",
  "767cfcc3f7f15579fc7b4eb92c54ca050c3d9bad",
  "0xa287fb86c1f8839be4c2b8d2eb3882cadd245974",
  "0xb72bb717c77499faee3512087efd83cba755eaf1",
  "70c1b8b64c193b03af3a40ab2624dd092c0bbf07",
  "0x07de0b7001458fb9bd75a5fcd7a8ae18f34dfd8d",
  "0x8ae46405286ba75e2a92f060ca03071b8b8c96fc",
  "0x000adf7f2ccf969e897500579f18870018123c10",
  "0x6d9bcd1d9c705696f41d91271285de68e673e444",
  "0xadf303b954adba6c3a57c9a82c0e7a9614b2c3ab",
  "130da41bd36027c59dd0008feeaeee9ebc2a5dd5",
  "0x143616636d4829bfa9af8bdc99cf3b9fdc8ebc17",
  "0xec5557489f76389e8931ccdb2a1d5e0ba4c6d3c3",
  "edabf10e61eaacee6261181fa83e5e20884c1c58",
  "0x76115d9536c2b2b7510ee9d5cdfdd52bafe956a9",
  "0x85fbf626cebeec31f526f89ff3f88f28eeade4d2",
  "3b752e371873b6fb0ea89d67b5a8876c3bed83b3",
  "0xa6d4ba1d40ecd08957206f33b4b0227a9d65b1eb",
  "0x1a4ca881e29dca6137954a87d15a33fdc5c8f0e8",
  "3ffe58c339db733f98c6f5c8d43e76f9a752509d",
  "0x380bd1f15af1e2e599e097a301be221d0032af4c",
  "0x0602942b8cb756b5adb7e58c414d0a521a88bd4c",
  "0xdfc1420c86d1aa3a38565e9cdda1ca34d257471f",
  "0x253b2883a61878d394bed88265f0405d1a97e7a8",
  "0x61e27aa85688715887c287718a970067bc77454d",
  "96cbc3196a6647be26f633223134414a9249e731",
  "0x2e0d46361599efe3ddbefebd70f8a48c41b8bea8",
  "0x06634e91415fe959837d50f13ababf40e04e05b3",
  "0x9105b9b56060225d4f39234880e373bd6c0883b4",
  "0x5a85b1fedfbe4d3704d91172558556cf2dd351fb",
  "0x4d44e17a47a04f008ae331e3424b625234b2ab1d",
  "b4eca30b5ce609567a81036b1d1b9197f38d6fab",
  "0x2f24f68db4be05b4b0f7d0dfd3e8203905c77d29",
  "0x77e0755d7ec875ca915caff00372e8c3d38ee8d7",
  "8b7326d6889a2964d4e5ba8d1e8b6e44c8381fe3",
  "0x366878e6f859970a00eebe60808cb52da55d9978",
  "0x26897010af9bf4c4e547ef0815022e4f0d4e87cb",
  "d2bc4289eb764efc66260447b6fbc2dc5ece6267",
  "0xa2fcc3782ea6dc3f434be1447c82b47aec29d755",
  "0x2984f09a976a3f03711bb9b5e371ce357fcc2991",
  "1fa3dc4bf968bb50a99f1606859d0d4d1c601b01",
  "0x4f4237d04c87ccdf69ec2adcea9156815aef41bb",
  "0x36477f1e431047777336d902b679683209b49538",
  "08c9ea7eade2ac6d44baf0d919eded1cc2ae29e1",
  "0x0661e1d6334f66d439935f0cc1af9162cd17b6d5",
  "0xfce5e3a8868ace480ace2859ad5fce2b84930b33",
  "0x3c8bb65b4c75632bbe0856ebd19073e38efd2414",
  "0x40f94eea49ba4c1736dcaa6cf8469fd04f4a94c3",
  "0x1dde5f0ea0df44d4b3d1b638b6f19924e3200eff",
  "0x851d91a1ee11b12e5693af7fcbbfcf8f5f1fa378",
  "0x4852a6f303252f36624a69b4ad62c77a5cfcd3a2",
  "0x2478d0c66f98ed33597cc40622346783ab334c05",
  "0xdab1c474b385a2d712c43a8f968864c388f08dfb",
  "0xcfd516596aabb55697bc317e8597f7d78aa44efd",
  "0x979ef91a964a6aba282bd68a13b9c57dabe9c75d",
  "7438df24f270c344fe0bce86e70f477565d7152b",
  "0x3ab6585e9f34f76654d617b47b6ad7ceb4bee93f",
  "0x2897214a559ddb245c5b39f69ef0079f625b81ca",
  "0xc99e9a31fbc55da1ba4a3305fb9fd1b1e73eb185",
  "0x7053e68aa686dfba10473b4c9fcab429435acb3f",
  "0x1915c090946ff3a4e2f24106075eb2d66af453a6",
  "0511dc76dc4418b6deecf2d856cb1f39b82de89c",
  "0xd3852944dba2a3e1082caa3a64316bd16bbb7e74",
  "0x5ec1ace12167f3b8856861c681cca40265c77cc8",
  "cd07215e77d97a0731cd9f1536648dfd26aec28e",
  "0xa2ee58c9e49c343c14285f465534e8615b56f336",
  "0xbadf3b1cf366deb89cc5e239e979dc335e53b482",
  "0xea65900da6d89bad0ac57472a9aa1176990257b3",
  "0x6ef02c5c2ca257c35d4f57ecdb61906ce6b8aa96",
  "0xe636fb2a79fabc2da48cfbf7924c00975888177f",
  "0x817d8e8a1220332cbfeb517cef54151db8eab3b4",
  "0xfaff6b6a8282a7a14c892617a3958bede5fd6914",
  "0xacdf5e8c7f40350bf1b93ce4864463415d836b68",
  "0x5db19dae5e78bcbaf74ff5f553a16b1f2fac00c2",
  "0x228f5f017e230b8e344bf927ee8e314f11f6fafd",
  "0x12de5e597fd9d758df88e0da5affd61077599d82",
  "4b214a9dafeae7bcfdbfdc95dfc7febf38c05995",
  "0x2f694364578a69e3a95bdb1644d2131eef0421cf",
  "0xaa96743ba475e24ad2587cae6a703ce4f87ca9d2",
  "d54a79cff3b8ec8cbc9902d4005014ff0403b102",
  "0x96dadaed0d5086c387fbaf1de68a01ddfc792342",
  "0x643f946aea7199efd0c497200167afadabe03b0a",
  "fe55b923097057f3afb2d11477eb62192db0e75f",
  "0xcda1059fdbbaac864236708e3e1e457ef759828b",
  "0xc70087d41e4059e1e7900c5be9146d6f0814229f",
  "1b604f8fdd23086a91f4c8088afbd3da63435d51",
  "0xb334af907d4b4334ee9e8d83145223b156894821",
  "0x01264d40df8b7a3f289d5dd08cf77720a723776a",
  "0x4d3f12bbf19b4a36ccd754d69914845909226581",
  "0x7a1a2d2428772e160ca9505589520ac7b0ee828a",
  "0x1e3188c79550f5872add5d16e58a58ba3b224807",
  "df7f8387bffbf65e8d85eac237c022ce1efc8712",
  "0x8c9644f5a3588164002e61a844883d76f3a55c58",
  "0x5d3592cb09cd188df0df79d28a8baae58789a607",
  "a22a1af44336c765c66a8afc9d61da88b7e5915b",
  "0xf4d160039db8cb2b83ebeac00bedab85c2dde717",
  "0x13af63e45373ab6de60bd0ab3d36c1b8c3a56692",
  "d33c3820b620257f58e37994fd4a4f20e5cee18b",
  "0x4c63b894bed8bc5deed13cbb1c30ea0c4d78362e",
  "0xe836e4b42b30a59a27d194706ad56ed27a7f65ed",
  "0023e8819ab2f830617085c036974b2afd375762",
  "0x37910df2695733d634da6a272689957c8756a6ab",
  "0x6e4fffc5c467b6d0dc4953f3c0abc2b478c89a4f",
  "2d1cc893bcb063a84a4c09da0d705c3b555adfa6",
  "0xfc182b0f9f48f817ff6b5fd113e6e94bdbdee09d",
  "0x7f0b008b861e9d4ddc3acf779bc05e5416c9cd1a",
  "0x53d74e9d12320303d6272c5307d8680b815fe549",
  "0x4b8489f61dffa86fcb7cc451be5e675949b2a107",
  "0x0cf743e2ee2d18ed5d462ff8aecaace75595765e",
  "2e48868e5656553c29f8044e8b254a3ddefb0a67",
  "0xaa10771a071f3dfb661406e1bc87422e2f5c6963",
  "0x21b45c6bc89715a9d911716f36e1617d006158e7",
  "308088044cf077651caa1026681cff2e7f3d6de6",
  "0x9a399cf946c4cc67f9b13d4d9071d507a2b6c62c",
  "0x524a28cfb7d2ba2984fe53e394119e6ee9db7c02",
  "1dc86eb0b45632ee753f9fda5ebf55440b457155",
  "0x96da296806fa88f719ff8407e0ad7c905e81b0ea",
  "0xe69e79c805626e2e2355dc7303519a7ac17ea3f9",
  "ab9437b4e2bd2b498158199597bd0c5fec5b96da",
  "0x39f5d3d5a014ef8375414a274c5cbe357c1dbc76",
  "0xda1b071054c5406a7b31bcbeca904af1b97b7c35",
  "677006ad962fc01def27fe0630450e1bf7dea247",
  "0x4c738702bfa568da3a171b1365b37f84bd1353e3",
  "0xae3a51d3584baf1a6d0e945ac1a0bfddace85f71",
  "0xb2564b7717ba3cce966b38b28f915100063173b4",
  "0x8b0b7ac2f46eb9ba7e602f0b57fed3b61162f68e",
  "0x4ce0e44357bf567f24fc8ca7133b5f2bd0b11ca0",
  "0x90c0cad540b5964b4fe1087eac0335ea3815ac80",
  "0xacba483d345cec75209a60c4902efeae3b96ab46",
  "0x303bf239a33d5214b5624e8cc521354fc8c9b592",
  "0x33ff7dffd912152ebdb00fc294a4cfe9e8518a2a",
  "0xb309d8ba5099f046c309791636541cc6f2c9173c",
  "0x72e7e3fe6e574a82545c77f02734c4a2685065db",
  "87863ccb79463dd272fb57451a8d27ce787fe2ba",
  "0xb5f785d1aa0971d44be4d1e73f7066fe6796bb78",
  "0xf58dcab5e82536f589161e78c913588a93de754e",
  "0xb9d2d734f0276eef391d23d9255fb0099fcf863d",
  "0xd99003dcbb61068afadd7c089df14d209385792c",
  "0x25f0a8fceef0dc9c4dd54cfedfda3006b5f10191",
  "0fb1ddddbce3fe73ffa08d8ea22ba153785cba0f",
  "0xd2d3747fb42bb637b66ed2beb2a52fc323b5863e",
  "0x42aff4621cb340861505b0b4c1b3da9d03b4ee03",
  "bbcd8de68bfdf00eaaf5ffa36e275fb7722990d7",
  "0xf947133c76ff84e9de939be5178e8fc8675eb280",
  "0xc546379487b544e6d32072b15135bc86ae357da4",
  "0xda9eba2dbe0d4b491506930a9616c547bd0154b7",
  "0x5e47efb7c04bffca779e22b8915a7128bfea2ced",
  "0xf14f0e1bd2bcd99953f4ea0f57abfa7cec5a4fda",
  "0x172beb593811c1d6409202536a4a0f33bd57d8f3",
  "0x89012b7f5e97868ddb7c8c5720766786dbb9971c",
  "0xf61b403bf62010f64941937b1f7c52e62d0e35d9",
  "086d5d3b36a41a45fa4d6c18ec5e8a03c08e3d72",
  "0x946efc9b9d911fb3c9d508b85e14b39deb5d1afd",
  "0xf106bcc7a6cfcf06e45c3b0707b8a05b0273c78d",
  "175b16f1b88a8e16935913e6f5a6057fea2f5d24",
  "0x33440b11d14b5581c2921c4681cd2f94053c6249",
  "0x2b74bb76c92e5f730eb7cd3ce765c71bce997ed6",
  "5bb18607aed3764b637993f2bbad1945fb42a643",
  "0xd5d9cf2539b5bec1fa4990fafa7c22e86e9e3bad",
  "0xc62b0993b16130a266bf0a136f5b4001ffd0af26",
  "405af36e6ad1da7ed9e83b1e0fc26f32cb88e361",
  "0x155c0dad7fc27423b360a6e94c5055e10d87d960",
  "0x6faf44d9c6ac56308914f7f010224a2516650615",
  "7d013828b2459ddd21a89b34cb0d20c47caba62a",
  "0x96ec75fa42809ff51c4fb146b5c14137b3e3f1b2",
  "0xb100c9f6a91b305f1ce9840962d06741eb25c831",
  "0xa11ece9c0e5890a2839e3cd5304935b6aa5f5089",
  "0xe288bd837b24fb20f7919bf901c65291ff9c7914",
  "0xefe769dafcb803b97238bea7fc1f14c6724633e5",
  "925a79e429c91f2996fa2c8b1e2a521594db25b5",
  "0xa06e8fb687f77f763269ab40cd8647f1a5469974",
  "0x8782f525c81e35d3608907e1695251f5ec300b93",
  "648cfcac4c410a2b7869a62292c8d89a2f78c4fd",
  "0x93afdc941d7128aeb2376d00612d24d747db5721",
  "0xf0368ff425c6fc5f8db053aa8672e68765ff0c5e",
  "14c5a41fd9ac22549edf99c786d27a273c933975",
  "0x91c6aba7870596f023f426c3e07989f024708690",
  "808a9FEE07dcAD03c33660CF8cde32A4CBd18ab5",
  "0x22e7f42db0e6fd7d1e14e847f24129c54dc221ca",
  "0xcbd00a66901ffc608619dd08baa37fffd47f0ef6",
  "0xcecfb44cadc788282ae7dea0b24c301c9ab9eb9e",
  "234250df7b2d34c62f607a3025b02ed2bfe6b9d5",
  "0x3bb33ffa75087d3c6415dea343f8765fe116f8ba",
  "0x488f4d1317a63c04f59e70ae266a23df8faf9322",
  "0xce232f9fca8518d6288af881e9350e011546f6d4",
  "0xab3c24609187d37e356e56f5791a98dba2074cb3",
  "0x47936e65b2bc2832ed65ce5ff8bf688bc66b263d",
  "0c95173e73892ae8a4a5a7d8b1d6e4684ff8e802",
  "0xfea12dac726a88ef56b1038d8ef32355bcd6fb23",
  "0xd6b5cb5f0f2603c48d7a2ac2b7e47abb4c32f3da",
  "8cb161a7f97a87981f2cd7f0d20693fcc7f3bc5a",
  "0x9a49cfe182a34c81cdbe1515223d628388f3543a",
  "0x4803f5ebc034df9ad0536ab264abb94e1434dabf",
  "0xc66c9a1c085cdaf186684aed566eda71227fbea3",
  "0x5237c932d3da21423adaceb3804322cdb23081a6",
  "0x66db2103ed3f3065291ac654ee42d53dc4e11fb6",
  "33c7a10edd134edd2728def20b7c1f3091366051",
  "0x7d7a0ca08a0f7feeefc441601f604d29dccfa8c1",
  "0x56ba6ef801f35c437ea80f16901a068b4408a3c7",
  "8c4a0ad0550693b51dfe355593397a4943f21b3a",
  "0xbaebe2da674ac6a1227acff3ff672b6bb7eceb1e",
  "0x6e0c43644ca7881ed9faf1dcdae52d96108988a8",
  "0x474335889335251d27b9117307b255d14d1a9d55",
  "0x0050a0a999e7b630990b7fa873fca7b766109542",
  "0xc8230b1e0a4bb143a5df0f46b8b83a2572d6ba87",
  "f43045d28f45c423baf512456420874962a0ba94",
  "0xa97543f4c5ab2f739faecce45f6b08de71c08926",
  "0x7ffadbeeb30840a600dd47ba84f44b2dbfffd2ed",
  "a20e1531ce9c9aacdf58732b0195ee3a3df68991",
  "0xc716412ae35cb9ee636f46f8343d4c02b0a00e93",
  "0x823e49cdfd6ed7415fb2a28c7c875a51bb481300",
  "6351894fb61cc4527d7a1ca67e669b14337ab874",
  "0x48af8cd2decdc4d599057579f9a0fdcd5d44dfd3",
  "0x5844a3159a0e09a641b6e2a30ff72cdb7274c0a7",
  "0x3a16a5a1cd2089b9860834253adbf4395fb97d7f",
  "0x50d52ed5fedc652b6afbd1386394c2bad87e18ac",
  "0x56e52e15d48f83f5dd173d85d65d7fc8c3313e65",
  "d62e3daf8c5993ee065311bf9d7f8d139ca12e4c",
  "0x8333332f830d260771caaf6ae393fcd3ede54cc3",
  "0xb0f87a4e5e23b07284178134954b78996103c032",
  "0x641450a5075dd8b56f014a80b046dbb4f5c0fbb0",
  "0x308a6e6b9770b3497d40c6b516b6123ddc07addd",
  "0xe4f2636ee6c6bc0204be7b0f29ecbb71dcfe1859",
  "ffe4f3759ec9b8830a81a6fcd7eb0abdf6d2edfa",
  "0x9962a0f30971bd0fbc243daff8ff5fb0b4b1c3c2",
  "0x8031172b34d8ac994871f0eb4b50ed876c61703c",
  "40eb45f537da0756e5b5a67829a218ca6943f266",
  "0x1058f3b4cb5ea48680c982f417b93abc7710f2ad",
  "0xc686bcef07d3731387de76fd7701b1832aabddbf",
  "0x598b46c57f19f11958a0d8e1186c7471ac924b38",
  "0xc370aaf40f27948fc0506f7f3663a7d48b0b8b7e",
  "0x8a89d2b18317499a6d8eff474745a7a0de70eb64",
  "0x4d02f10e7067a0403eb516e0b169cd9088d240fd",
  "0xfc6ca8f8e5b4fd88d07c16c04f5b1d6f129cd997",
  "0x763611e092882bee80eeb0d0d636ee7e778aa830",
  "7cefe437a29dc046b8a7481be11fabd5344b052b"
];

const main = async () => {
  const triplets = chunk(data, 3);
  const accounts = triplets.map(_ => _[0]);
  const whitelisted = await bulkIsWhitelisted(accounts);
  const failed = triplets.filter(_ => whitelisted.includes(_[0]) === false);
  console.log("Total accounts:", accounts.length);
  console.log("Total whitelisted:", whitelisted.length);
  console.log("Total failed re-auth:", failed.length);
  return;
  const ps = triplets.map(async a => {
    const i1 = await fetch("http://localhost:9090/enrollment-3d/" + a[1]).then(_ => _.json());
    const i2 = await fetch("http://localhost:9090/enrollment-3d/" + a[2]).then(_ => _.json());
    if (i1.auditTrailBase64 && i2.auditTrailBase64) {
      fs.writeFileSync(a.join("_") + "-a.jpg", i1.auditTrailBase64, { encoding: "base64" });
      fs.writeFileSync(a.join("_") + "-b.jpg", i2.auditTrailBase64, { encoding: "base64" });
    } else console.log("not found", a);
  });

  await Promise.all(ps);
};

main();
